<head>
  <style>.white {color:white;}</style>
  <style>.blend {background-color:black;color:white;border-color:black;}</style>
  <style>body {height:100vh; margin: 0;}</style>
</head>
<body style="background-color:black; position: relative;">
  <div id="gameContainer" style="
    width: 1050px;
    position: absolute;
    bottom: 5px;
    left: 400px;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;">
  <div id="enemyContainer" style="
    height: 450px;
    width: 600px;
    margin: 0px auto;
    border-width: 12px;
    background-image: url ('grid.png')
    background-position: center;
    background-repeat: no-repeat;
    box-sizing: border-box;"> </div>
   <div id="battleBox" style="
    border: solid white;
    border-width: 12px;
    height: 300px;
    width: 600px;
    background-color: black;
    margin: 0px auto;
    display: none;
    position: relative;">
     <img src="soul-01.png" width="32" height="32" id="myPlayer01" style="position:absolute;left:0px;top:0px;opacity:1.0;">
  </div>
  <div id="textBox" style="
    border: solid white;
    border-width: 12px;
    background-color: black;
    height: 225px;
    width: 1050px;
    margin: 15px auto;
    color: white;
    font-size: 24px;
    padding: 20px;
    box-sizing: border-box;">
  </div>
  <div id="menuBox" style="
    width: 1050px;
    height: 75px;
    margin: 10px auto 50px auto;
    display: flex;
    justify-content: space-around;">
    <img id="fightBtn" src="fight.png" height="84" width="186">
    <img id="actBtn" src="act.png" height="84" width="186">
    <img id="itemBtn" src="item.png" height="84" width="186">
    <img id="mercyBtn" src="mercy.png" height="84" width="186">
  </div>
</div>
<script>
//Definitions

let enemyContainer = document.getElementById('enemyContainer');
let textBox = document.getElementById('textBox');
let battleBox = document.getElementById('battleBox');
let menuBox = document.getElementById('menuBox');
let playerElement = document.getElementById('myPlayer01'); 
let maxHoriz = 568; 
let maxVerti = 268; 
let myHoriz;
let myVerti;
let up = false;
let down = false;
let right = false;
let left = false;
let actionKeyPressed = false; 
let playerHealth = 20;
let isInvincible = false;
let battleInitiated = false;


function writeText(dialogue) {
    textBox.innerHTML = ''; 

    for (let i = 0; i < dialogue.length; i++) {
        setTimeout(function() {
            textBox.innerHTML += dialogue[i];
        }, i * 50);
    }
}


function startBattle() {
    battleBox.style.display = 'block';
    myHoriz = parseInt(playerElement.style.left); 
    myVerti = parseInt(playerElement.style.top);
    writeText("The enemy appears.");
    setInterval(movement, 10);
}


document.onkeydown = function(event){
    if (event.key === "w"){up = true;}
    if (event.key === "s"){down = true;}
    if (event.key === "a"){left = true;}
    if (event.key === "d"){right = true;}
    if (event.key === "z" || event.key === "Enter" ){actionKeyPressed = true;}
}
document.onkeyup = function(event){
    if (event.key === "w"){up = false;}
    if (event.key === "s"){down = false;}
    if (event.key === "a"){left = false;}
    if (event.key === "d"){right = false;}
    if (event.key === "z" || event.key === "Enter" ){actionKeyPressed = false;}
}

function movement(){
    if (up) { myVerti -= 3}
    if (down) { myVerti += 3}
    if (left) { myHoriz -= 3}
    if (right) { myHoriz += 3}
  
    if (myHoriz < 0){myHoriz = 0}
    if (myHoriz > maxHoriz){myHoriz = maxHoriz}
    if (myVerti < 0){myVerti = 0} 
    if (myVerti > maxVerti){myVerti = maxVerti}
    
    playerElement.style.top = myVerti + 'px'
    playerElement.style.left = myHoriz + 'px'
}

startBattle();
























  
</script>
